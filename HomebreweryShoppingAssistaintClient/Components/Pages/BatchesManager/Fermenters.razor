@page "/fermenters"
@using HomebreweryShoppingAssistaint.Enums
@using HomebreweryShoppingAssistaint.Helpers
@rendermode InteractiveServer
@inject IDialogService DialogService


<MyMudProviders />

<PageTitle>@Title</PageTitle>

<MudText Typo="Typo.h3" GutterBottom="true">@Title</MudText>

@if (fermenters == null)
{
    <MudProgressCircular Color="Color.Default" Indeterminate="true" />
}
else
{
    <MudTabs @ref="tabs" ActivePanelIndexChanged="OnActiveTabIndexChanged">
        <MudTabPanel Text="@EnumHelper.GetEnumDescription(EnumFermenterType.PlasticBucket)">
            <MudTable Items="@fermenters.Where(x => x.Type == EnumFermenterType.PlasticBucket).ToList()">
                <HeaderContent>
                    <MudTh>Nr</MudTh>
                    <MudTh>Nazwa</MudTh>
                    <MudTh>Data rozpoczęcia używania</MudTh>
                </HeaderContent>
                <RowTemplate>
                <MudTd DataLabel="Nr">@context.Number</MudTd>
                    <MudTd DataLabel="Nazwa">@context.Name</MudTd>
                    <MudTd DataLabel="Data rozpoczęcia używania">@context.StartDate</MudTd>
                </RowTemplate>
            </MudTable>
        </MudTabPanel>
        <MudTabPanel Text="@EnumHelper.GetEnumDescription(EnumFermenterType.GlassJar)">
            <MudTable Items="@fermenters.Where(x => x.Type == EnumFermenterType.GlassJar).ToList()">
            </MudTable>
        </MudTabPanel>
        <MudTabPanel Text="@EnumHelper.GetEnumDescription(EnumFermenterType.CorneliusKeg)">
            <MudTable Items="@fermenters.Where(x => x.Type == EnumFermenterType.CorneliusKeg).ToList()">
            </MudTable>
        </MudTabPanel>
        <MudTabPanel Text="@EnumHelper.GetEnumDescription(EnumFermenterType.PetainerKeg)">
            <MudTable Items="@fermenters.Where(x => x.Type == EnumFermenterType.PetainerKeg).ToList()">
            </MudTable>
        </MudTabPanel>
    </MudTabs>
}
